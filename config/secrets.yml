# Be sure to restart your server when you modify this file.

# Your secret key is used for verifying the integrity of signed cookies.
# If you change this key, all old signed cookies will become invalid!

# Make sure the secret is at least 30 characters and all random,
# no regular words or you'll be exposed to dictionary attacks.
# You can use `rake secret` to generate a secure secret key.

# Make sure the secrets in this file are kept private
# if you're sharing your code publicly.
defaults: &defaults
  secret_key_base: <%= ENV["SECRET_KEY_BASE"] %>
  basic_auth:
    username: <%= ENV['BASIC_AUTH_USERNAME'] %>
    password: <%= ENV['BASIC_AUTH_PASSWORD'] %>
  france_connect_particulier:
    identifier: <%= ENV['FC_PARTICULIER_ID'] %>
    secret: <%= ENV['FC_PARTICULIER_SECRET'] %>
    redirect_uri: <%= ENV['FC_PARTICULIER_REDIRECT_URI'] %>
    authorization_endpoint: <%= ENV['FC_PARTICULIER_HOST'] %>/api/v1/authorize
    token_endpoint: <%= ENV['FC_PARTICULIER_HOST'] %>/api/v1/token
    userinfo_endpoint: <%= ENV['FC_PARTICULIER_HOST'] %>/api/v1/userinfo
    logout_endpoint: <%= ENV['FC_PARTICULIER_HOST'] %>/api/v1/logout
  github:
    client_id: <%= ENV['GITHUB_CLIENT_ID'] %>
    client_secret: <%= ENV['GITHUB_CLIENT_SECRET'] %>

development:
  <<: *defaults
  secret_key_base: 05a2d479d8e412198dabd08ef0eee9d6e180f5cbb48661a35fd1cae287f0a93d40b5f1da08f06780d698bbd458a0ea97f730f83ee780de5d4e31f649a0130cf0

test:
  <<: *defaults
  secret_key_base: aa52abc3f3a629d04a61e9899a24c12f52b24c679cbf45f8ec0cdcc64ab9526d673adca84212882dff3911ac98e0c32ec4729ca7b3429ba18ef4dfd1bd18bc7a
  france_connect_particulier:
    identifier: france_connect_test_identifier
    secret: france_connect_test_secret
    redirect_uri: https://bidon.com/endpoint
    authorization_endpoint: https://bidon.com/endpoint
    token_endpoint: https://bidon.com/endpoint
    userinfo_endpoint: https://bidon.com/endpoint
    logout_endpoint: https://bidon.com/endpoint

# Do not keep production secrets in the repository,
# instead read values from the environment.
production:
  <<: *defaults
