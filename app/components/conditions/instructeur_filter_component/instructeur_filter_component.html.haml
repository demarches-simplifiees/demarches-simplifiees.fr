- #= render Conditions::ConditionsErrorsComponent.new(conditions: condition_per_row, source_tdcs: @source_tdcs)

= form_tag instructeur_procedure_presentation_path(@procedure.id, @procedure_presentation.id), method: :patch, data: { turbo: true, controller: 'autosave' }, class: 'form width-100' do
  .conditionnel.width-100
    %table.condition-table
      - if rows.size > 0
        %thead
          %tr
            %th.fr-pt-0.far-left
            %th.fr-pt-0.target Champ Cible
            %th.fr-pt-0.operator Op√©rateur
            %th.fr-pt-0.value Valeur
            %th.fr-pt-0.delete-column
      %tbody
        - rows.each.with_index do |(targeted_champ, operator_name, value), row_index|
          %tr
            %td.far-left= far_left_tag(row_index)
            %td.target= left_operand_tag(targeted_champ, row_index)
            %td.operator= operator_tag(operator_name, targeted_champ, row_index)
            %td.value= right_operand_tag(targeted_champ, value, row_index, operator_name)
            %td.delete-column= delete_condition_tag(row_index)
      %tfoot
        %tr
          %td.text-right{ colspan: 5 }= add_condition_tag

