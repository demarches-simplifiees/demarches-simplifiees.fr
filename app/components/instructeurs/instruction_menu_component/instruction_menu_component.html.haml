= render Dropdown::MenuComponent.new(wrapper: :div, wrapper_options: { data: { turbo_force: :server } }, role: :region) do |menu|
  - menu.with_button_inner_html do
    = menu_label

  - menu.with_item do
    = link_to('#', onclick: "DS.showMotivation(event, 'accept');", role: 'menuitem') do
      = dsfr_icon('fr-icon-checkbox-circle-fill fr-text-default--success')
      .dropdown-description
        %h4 Accepter
        L’usager sera informé que son dossier a été accepté

  - menu.with_item(class: "hidden inactive form-inside fr-pt-1v") do
    = render partial: 'instructeurs/dossiers/instruction_button_motivation', locals: { dossier: dossier, placeholder: 'Expliquez au demandeur pourquoi ce dossier est accepté (facultatif)', popup_class: 'accept', process_action: 'accepter', title: 'Accepter', confirm: "Confirmez-vous l'acceptation ce dossier ?" }

  - menu.with_item do
    = link_to('#', onclick: "DS.showMotivation(event, 'without-continuation');", role: 'menuitem') do
      = dsfr_icon('fr-icon-intermediate-circle-fill fr-text-mention--grey')
      .dropdown-description
        %h4 Classer sans suite
        L’usager sera informé que son dossier a été classé sans suite

  - menu.with_item(class: "hidden inactive form-inside fr-pt-1v") do
    = render partial: 'instructeurs/dossiers/instruction_button_motivation', locals: { dossier: dossier, placeholder: 'Expliquez au demandeur pourquoi ce dossier est classé sans suite (obligatoire)', popup_class: 'without-continuation', process_action: 'classer_sans_suite', title: 'Classer sans suite', confirm: 'Confirmez-vous le classement sans suite de ce dossier ?' }

  - menu.with_item do
    = link_to('#', onclick: "DS.showMotivation(event, 'refuse');", role: 'menuitem') do
      = dsfr_icon('fr-icon-close-circle-fill fr-text-default--warning')
      .dropdown-description
        %h4 Refuser
        L’usager sera informé que son dossier a été refusé

  - menu.with_item(class: "hidden inactive form-inside fr-pt-1v") do
    = render partial: 'instructeurs/dossiers/instruction_button_motivation', locals: { dossier: dossier, placeholder: 'Expliquez au demandeur pourquoi ce dossier est refusé (obligatoire)', popup_class: 'refuse', process_action: 'refuser', title: 'Refuser', confirm: 'Confirmez-vous le refus de ce dossier ?' }
