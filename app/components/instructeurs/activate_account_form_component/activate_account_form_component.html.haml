= form_for user, url: { controller: 'users/activate', action: :create }, html: { class: "fr-py-5w" } do |f|

  %h1.fr-h2.fr-mb-7w= t('.title', application_name: APPLICATION_NAME)

  .fr-background-alt--grey.fr-px-12w.fr-py-7w
    %fieldset.fr-mb-0.fr-fieldset{ aria: { labelledby: 'activate-account-legend' } }

      %legend.fr-fieldset__legend#activate-account-legend
        %h2.fr-h6.fr-mb-0= t('.activate', email: user.email)

      .fr-fieldset__element
        %p.fr-text--sm= t('utils.mandatory_champs')

      .fr-fieldset__element= render Dsfr::InputComponent.new(form: f, attribute: :email, input_type: :email_field, opts: { disabled: :disabled, class: 'fr-input-group--disabled', value: t('.email_disabled') })

      .fr-fieldset__element= render Dsfr::InputComponent.new(form: f, attribute: :password, input_type: :password_field, opts: { autocomplete: 'current-password', autofocus: 'true', data: { controller: 'turbo-input', turbo_input_url_value: show_password_complexity_path(@user.min_password_complexity) }})

      = f.hidden_field :reset_password_token, value: params[:token]

      #password_complexity
        = render PasswordComplexityComponent.new

      .fr-fieldset__element
        .fr-btns-group--right.fr-btns-group.fr-btns-group--inline.fr-btns-group.fr-btns-group--inline
          %ul
            %li= f.submit t('.submit'), id: 'submit-password', class: 'fr-mt-2v fr-btn fr-btn'
