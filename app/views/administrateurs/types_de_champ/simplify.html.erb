<% content_for :title, "AmÃ©lioration de la qualitÃ© du formulaire Â« #{@procedure.libelle} Â»" %>

<%= render partial: 'administrateurs/breadcrumbs',
  locals: { steps: [['DÃ©marches', admin_procedures_path],
                    [@procedure.libelle.truncate_words(10), admin_procedure_path(@procedure)],
                    ['AmÃ©lioration de la qualitÃ© du formulaire']] } %>

<%= render LLM::StepperComponent.new(step_component: LLM::SuggestionFormComponent.new(llm_rule_suggestion: @llm_rule_suggestion)) do |stepper| %>
  <% stepper.with_header do %>
    <%= render LLM::HeaderComponent.new(llm_rule_suggestion: @llm_rule_suggestion) %>
  <% end %>

  <% if LLMRuleSuggestion.last_rule?(@llm_rule_suggestion.rule) || true %>
    <%= render Dsfr::AlertComponent.new(state: :success) do |component| %>
      <% component.with_body do %>
        <p>
          ğŸ‰ <strong>FÃ©licitations</strong>, nous nâ€™avons aucune suggestion
          pertinente Ã  proposer, ce qui signifie probablement que les libellÃ©s
          du formulaire sont dÃ©jÃ  de qualitÃ©!
        </p>

        <p class="fr-mt-2w">
          <%= link_to "Revenir Ã  lâ€™Ã©cran de gestion", admin_procedure_path(@procedure), class: 'fr-link fr-icon-arrow-left-line fr-link--icon--left fr-icon--sm' %>
        </p>
      <% end %>
    <% end %>
  <% end %>
<% end %>
