.fr-input-group
  = label_tag :procedure_path, class: 'fr-label' do
    = t('activerecord.attributes.procedure.procedure_path')

    %span.fr-hint-text
      = t('activerecord.attributes.procedure.hints.procedure_path')

  .fr-input
    .flex
      %span.placeholder
        = commencer_url(path: '')
      = text_field_tag(:path, procedure.path,
                      id: 'procedure_path',
                      placeholder: t('activerecord.attributes.procedure.procedure_path_placeholder'),
                      required: true,
                      class: 'unstyled flex-1',
                      pattern: '^[a-z0-9_-]{3,200}$',
                      autocomplete: 'off')

-# %span{ data: { controller: 'clipboard', clipboard_text_value: ''  } }
-#   %button.fr-btn.fr-icon-clipboard-line.fr-btn--sm.fr-btn--secondary.fr-btn--icon-left{ data: { action: 'clipboard#copy' }, title: 'Copier le lien public' }
-#     Copier le lien public
-#   %span.fr-text--sm.hidden{ data: { clipboard_target: 'success' } }
-#     = @success || t('.copy_confirmation')

= render Dsfr::AlertComponent.new(state: :info, size: :sm, extra_class_names: 'fr-mb-2w') do |c|
  - c.body do
    = t('activerecord.attributes.procedure.procedure_path_alert', link: APPLICATION_NAME)

.fr-input-group
  = label_tag :lien_site_web, class: 'fr-label' do
    = t('activerecord.attributes.procedure.lien_site_web')

    %span.fr-hint-text
      = t('activerecord.attributes.procedure.hints.lien_site_web')

  = text_field_tag(:lien_site_web, procedure.lien_site_web,
                    required: true,
                    class: 'fr-input',
                    autocomplete: 'off',
                    placeholder: t('activerecord.attributes.procedure.lien_site_web_placeholder'))

- if closed_procedures.present?
  .fr-select-group
    = form.label :old_procedure, class: 'fr-label' do
      = t('activerecord.attributes.procedure.old_procedure')
      = t('utils.no_mandatory')

      %span.fr-hint-text
        = t('activerecord.attributes.procedure.hints.old_procedure')
    = select_tag :old_procedure, options_for_select(@closed_procedures), include_blank: true, class: 'fr-select'
