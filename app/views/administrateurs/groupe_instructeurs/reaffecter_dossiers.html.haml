= render partial: 'administrateurs/breadcrumbs',
  locals: { steps: [['Démarches', admin_procedures_path],
                    [@procedure.libelle.truncate_words(10), admin_procedure_path(@procedure)],
                    ['Groupes d’instructeurs', admin_procedure_groupe_instructeurs_path(@procedure)],
                    [@groupe_instructeur.label]] }

.fr-container
  %h1.fr-h2 Réaffectation des dossiers du groupe « #{@groupe_instructeur.label} »
  %p
    Le groupe « #{@groupe_instructeur.label} » contient des dossiers. Afin de procéder à sa suppression, vous devez réaffecter ses dossiers à lʼun des #{@groupes_instructeurs.count} groupes instructeurs suivants :

  = form_with url: reaffecter_admin_procedure_groupe_instructeur_path, method: :post, local: true, data: { controller: 'enable-submit-if-filled', action: 'change->enable-submit-if-filled#fillCombobox' } do |form|
    .fr-grid-row.fr-grid-row--gutters.fr-grid-row--bottom.fr-mt-3w
      .fr-col-8
        .fr-select-group
          %react-fragment
            = render ReactComponent.new "ComboBox/SingleComboBox",
              id: 'target_group',
              name: 'target_group',
              placeholder: 'Choisissez un groupe instructeur',
              items: @groupes_instructeurs.map { |g| { label: g.label, value: g.id.to_s } },
              class: 'fr-mt-1w',
              data: { enable_submit_if_filled_target: 'input' }

      .fr-col-4
        = form.submit 'Réaffecter les dossiers',
          class: 'fr-btn fr-btn-sm',
          data: { enable_submit_if_filled_target: 'submit', confirm: "Êtes-vous sûr de vouloir réaffecter les dossiers du groupe « #{@groupe_instructeur.label} » ?" },
          disabled: true
